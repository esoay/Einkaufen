<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ThriftStyle â€“ Secondhand-Shop</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="navbar">
      <div class="container nav-content">
        <button id="open-filter-drawer" class="icon-btn" aria-label="FiltermenÃ¼ Ã¶ffnen">â˜°</button>
        <a class="brand" href="#">ThriftStyle</a>
        <div class="search-wrap">
          <input id="search-input" type="search" placeholder="Suche nach Titel, Marke, Material, Farbe" aria-label="Produkte durchsuchen" />
        </div>
        <button class="cart-button" id="open-cart" aria-label="Warenkorb Ã¶ffnen">
          <span aria-hidden="true">ðŸ›’</span>
          <span class="cart-count" id="cart-count">0</span>
        </button>
      </div>
    </header>

    <aside id="filter-drawer" class="drawer" aria-hidden="true">
      <div class="drawer-header">
        <h2>Filter</h2>
        <button id="close-filter-drawer" class="icon-btn" aria-label="FiltermenÃ¼ schlieÃŸen">âœ•</button>
      </div>

      <form id="filters-form" class="drawer-body" aria-label="Erweiterte Produktfilter">
        <label>Marke (Dropdown)
          <select id="brand-select"><option value="">Alle Marken</option></select>
        </label>
        <label>Marke (Freitext)
          <input id="brand-text" type="text" placeholder="z. B. Levi's" />
        </label>
        <label>Preis min (â‚¬)
          <input id="price-min" type="number" min="0" step="1" placeholder="0" />
        </label>
        <label>Preis max (â‚¬)
          <input id="price-max" type="number" min="0" step="1" placeholder="100" />
        </label>
        <fieldset id="category-filters"><legend>Kategorie</legend></fieldset>
        <fieldset id="condition-filters"><legend>Zustand</legend></fieldset>
        <fieldset id="size-filters"><legend>GrÃ¶ÃŸe</legend></fieldset>
        <fieldset id="color-filters"><legend>Farbe</legend></fieldset>
        <fieldset id="material-filters"><legend>Material</legend></fieldset>

        <div class="drawer-actions">
          <button type="button" id="reset-filters" class="secondary">Filter zurÃ¼cksetzen</button>
          <button type="button" id="apply-filters" class="primary">Filter anwenden</button>
        </div>
      </form>
    </aside>

    <div id="drawer-backdrop" class="overlay" hidden></div>

    <main class="container main-content">
      <section class="hero">
        <h1>Secondhand, smarter shoppen.</h1>
        <p>Nachhaltig einkaufen mit prÃ¤ziser Suche, Bildsuche und smarten Empfehlungen.</p>
      </section>

      <div class="shop-layout">
        <aside class="category-sidebar" aria-label="Kategorienleiste">
          <h2>Kategorien</h2>
          <div id="category-rail" class="category-rail"></div>
        </aside>

        <div class="shop-content">
          <section>
            <h2>Empfohlen fÃ¼r dich</h2>
            <div id="recommended-grid" class="product-grid"></div>
          </section>

          <section class="image-search">
            <h2>Suche per Bild</h2>
            <label class="upload-box" for="image-upload" aria-label="Bild fÃ¼r Produktsuche hochladen">
              <input id="image-upload" type="file" accept="image/*" />
              <span>Bild hochladen oder hier klicken</span>
            </label>
            <img id="image-preview" alt="Vorschau des hochgeladenen Bildes" hidden />
            <div class="image-search-controls">
              <select id="image-category">
                <option value="">Kategorie wÃ¤hlen</option>
                <option>Damen</option><option>Herren</option><option>Kinder</option><option>Elektro</option><option>Haushalt</option>
              </select>
              <select id="image-color"><option value="">Farbe wÃ¤hlen</option></select>
              <button id="image-search-btn" class="primary" type="button">Bildsuche starten</button>
            </div>
          </section>

          <section>
            <div class="section-head">
              <h2>Produkte</h2>
              <select id="sort-select" aria-label="Produkte sortieren">
                <option value="newest">Neueste</option>
                <option value="price-asc">Preis â†‘</option>
                <option value="price-desc">Preis â†“</option>
              </select>
            </div>
            <div id="product-grid" class="product-grid" aria-live="polite"></div>
          </section>
        </div>
      </div>
    </main>

    <aside class="cart-panel" id="cart-panel" aria-hidden="true">
      <div class="drawer-header">
        <h2>Warenkorb</h2>
        <button id="close-cart" class="icon-btn" aria-label="Warenkorb schlieÃŸen">âœ•</button>
      </div>
      <div id="cart-items" class="cart-items"></div>
      <div class="cart-footer">
        <strong id="cart-total">0,00 â‚¬</strong>
        <button id="open-checkout" class="primary" type="button">Checkout</button>
      </div>
    </aside>
    <div id="cart-backdrop" class="overlay" hidden></div>

    <dialog id="checkout-modal" class="checkout-modal">
      <div class="drawer-header">
        <h2>Checkout (Demo)</h2>
        <button id="close-checkout" class="icon-btn" aria-label="Checkout schlieÃŸen">âœ•</button>
      </div>
      <p>WÃ¤hle eine Zahlungsart: PayPal, Klarna oder Visa.</p>
      <div class="payment-options">
        <section>
          <h3>PayPal</h3>
          <div id="paypal-buttons-container">PayPal Buttons ladenâ€¦</div>
        </section>
        <section>
          <h3>Klarna</h3>
          <button class="secondary" type="button">Mit Klarna zahlen (Demo)</button>
          <p class="hint">TODO: Klarna Session via Backend (Klarna Payments API) erstellen.</p>
        </section>
        <section>
          <h3>Visa / Karte (Stripe)</h3>
          <div class="stripe-placeholder">Stripe Payment Element Platzhalter</div>
          <p class="hint">TODO: clientSecret vom Backend laden und Stripe Elements initialisieren.</p>
        </section>
      </div>
      <p class="hint">Hinweis: PayPal/Klarna/Stripe benÃ¶tigen in Produktion Backend-Endpoints fÃ¼r sichere Keys, Order/Create und clientSecret.</p>
    </dialog>

    <script src="app.js"></script>
  </body>
</html>
